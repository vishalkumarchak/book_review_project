{% extends "base.html" %}

{% block content %}
<h2>Books</h2>
<a href="{% url 'add_book' %}" class="btn btn-success mb-3">Add Book</a>

{% if books %}
<div class="row">
  {% for book in books %}
  <div class="col-md-4 mb-3">
    <div class="card h-100 shadow-sm">
      {% if book.cover_image %}
      <img src="{{ book.cover_image.url }}" class="card-img-top img-fluid" alt="{{ book.title }}">
      {% endif %}
      <div class="card-body">
        <h5 class="card-title">{{ book.title }}</h5>
        <p class="card-text">by {{ book.author }}</p>
        <a href="{% url 'book_reviews' book.id %}" class="btn btn-primary">Reviews</a>
        <a href="{% url 'delete_book' book.id %}" class="btn btn-danger ms-2"
         onclick="return confirm('Are you sure you want to delete this book?')">Delete</a>

      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<p>No books added yet. Be the first to <a href="{% url 'add_book' %}">add a book</a>.</p>
{% endif %}

{% endblock %}